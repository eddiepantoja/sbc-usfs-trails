{"version":3,"sources":["webpack:///main.bundle.js","webpack:///webpack/bootstrap 9352a382dc409da92827","webpack:///./src/ts/config.ts","webpack:///external \"esri/config\"","webpack:///external \"dojo/dom-construct\"","webpack:///./src/ts/main.ts","webpack:///./src/ts/State.ts","webpack:///external \"esri/core/Accessor\"","webpack:///external \"esri/core/accessorSupport/decorators\"","webpack:///./src/ts/scene/SceneElement.ts","webpack:///./src/ts/scene/utils.ts","webpack:///external \"esri/renderers/UniqueValueRenderer\"","webpack:///external \"esri/symbols/LineSymbol3D\"","webpack:///external \"esri/symbols/LineSymbol3DLayer\"","webpack:///external \"esri/symbols/LabelSymbol3D\"","webpack:///external \"esri/layers/support/LabelClass\"","webpack:///external \"esri/symbols/TextSymbol3DLayer\"","webpack:///external \"esri/Map\"","webpack:///external \"esri/views/SceneView\"","webpack:///external \"esri/layers/FeatureLayer\"","webpack:///external \"esri/widgets/NavigationToggle\"","webpack:///external \"esri/widgets/Zoom\"","webpack:///external \"esri/widgets/Compass\"","webpack:///./src/ts/data/trailManager.ts","webpack:///external \"esri/tasks/support/Query\"","webpack:///external \"esri/tasks/QueryTask\"","webpack:///./src/ts/data/Trail.ts","webpack:///./src/ts/ui/SidePanel.ts","webpack:///external \"dojo/dom\"","webpack:///external \"dojo/on\"","webpack:///external \"esri/layers/GraphicsLayer\"","webpack:///./src/ts/ui/utils.ts","webpack:///external \"esri/geometry/geometryEngine\"","webpack:///external \"esri/Graphic\"","webpack:///./node_modules/serviceworker-webpack-plugin/lib/runtime.js"],"names":["define","__WEBPACK_EXTERNAL_MODULE_18__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_29__","__WEBPACK_EXTERNAL_MODULE_30__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_31__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_25__","__WEBPACK_EXTERNAL_MODULE_26__","__WEBPACK_EXTERNAL_MODULE_17__","__WEBPACK_EXTERNAL_MODULE_19__","__WEBPACK_EXTERNAL_MODULE_20__","__WEBPACK_EXTERNAL_MODULE_21__","__WEBPACK_EXTERNAL_MODULE_22__","__WEBPACK_EXTERNAL_MODULE_11__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","default","data","trailsServiceUrl","trailAttributes","id","trail_class","length_miles","steps_to_travel","colors","defaultTrail","path","halo","selectedTrail","request","useIdentity","State_1","SceneElement_1","trailManager_1","SidePanel_1","runtime","navigator","register","state","sceneElement","initTrails","then","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","__decorate","decorators","target","key","desc","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","Accessor","decorators_1","State","_super","_this","apply","displayLoading","selectedTrailId","trailRoute","currentBasemapId","view","trails","online","setSelectedTrailId","setTrailRoutes","_get","_set","subclass","declared","config_1","utils_1","domConstruct","Map","SceneView","FeatureLayer","NavigationToggle","Zoom","Compass","esriConfig","corsEnabledServers","push","SceneElement","initView","trailsLayer","initTrailsLayer","when","map","add","on","event","onViewClick","window","watch","oldValue","unselectFeature","selectFeature","basemap","ground","container","center","zoom","constraints","tilt","max","mode","qualityProfile","environment","lighting","directShadowsEnabled","ambientOcclusionEnabled","atmosphereEnabled","atmosphere","quality","starsEnabled","ui","components","padding","right","popup","visible","navigationToggle","compass","url","title","outFields","renderer","getTrailRenderer","elevationInfo","labelsVisible","labelingInfo","getLabelingInfo","selection","popupEnabled","showLoadingIcon","hitTest","response","close","result","results","query","createQuery","geometry","mapPoint","distance","units","spatialRelationship","queryFeatures","features","attributes","removeLoadingIcon","catch","err","console","log","class","style","position","fontSize","top","screenPoint","y","left","x","document","body","destroy","featureId","clone","uniqueValueInfos","getUniqueValueInfos","filter","trail","goTo","speedFactor","oldId","UniqueValueRenderer","field","defaultSymbol","createTrailSymbol","options","color","size","LineSymbol3D","symbolLayers","LineSymbol3DLayer","material","symbol","createLabelClass","labelClass","LabelClass","LabelSymbol3D","TextSymbol3DLayer","font","family","weight","verticalOffset","screenLength","maxWorldLength","minWorldLength","callout","type","border","labelPlacement","labelExpressionInfo","expression","where","queryTrails","Query","returnGeometry","outSpatialReference","wkid","QueryTask","execute","Trail_1","trailManager","feature","Trail","elevationIsSet","attributeMap","prop","dom","GraphicsLayer","SidePanel","scene","detailsContainer","byId","routesContainer","emptyDetails","graphicsLayer","removeAll","displayInfo","addRouteEvent","displayRoutes","getIntersectingTrails","querySelector","evt","trailid","dataset","forEach","splice","slice","createRouteSymbol","some","el","empty","displayAppInfo","innerHTML","toLocaleString","maximumFractionDigits","noGroups","intersections","groups","content","group","index","routeLength","routeSteps","routeArray","v","groupedIds","visited","j","val1","val2","comparision","geometryEngine","intersects","adjlist","convert_edgelist_to_adjlist","bfs","singleGroup","_i","group_1","_a","trails_1","flatGroup_1","concat","includes","node","route","routeIds","routeids","split","routeGeometry","union","Graphic","width","Name","Owner","edgelist","len","pair","u","adjV","nextVertex","q","current_group","shift","Error"],"mappings":"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","file":"main.bundle.js","sourcesContent":["define([\"esri/views/SceneView\",\"esri/config\",\"dojo/dom\",\"dojo/on\",\"dojo/dom-construct\",\"esri/layers/GraphicsLayer\",\"esri/geometry/geometryEngine\",\"esri/Graphic\",\"esri/tasks/support/Query\",\"esri/tasks/QueryTask\",\"esri/Map\",\"esri/layers/FeatureLayer\",\"esri/widgets/NavigationToggle\",\"esri/widgets/Zoom\",\"esri/widgets/Compass\",\"esri/renderers/UniqueValueRenderer\",\"esri/symbols/LineSymbol3D\",\"esri/symbols/LineSymbol3DLayer\",\"esri/symbols/LabelSymbol3D\",\"esri/layers/support/LabelClass\",\"esri/symbols/TextSymbol3DLayer\",\"esri/core/Accessor\",\"esri/core/accessorSupport/decorators\"], function(__WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_25__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) { return /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    data: {\r\n        trailsServiceUrl: \"http://services.arcgis.com/aA3snZwJfFkVyDuP/ArcGIS/rest/services/Vision2BActive_USFS_Trails/FeatureServer/0\",\r\n        trailAttributes: {\r\n            name: \"NAME\",\r\n            id: \"ID\",\r\n            trail_class: \"TRAIL_CLASS\",\r\n            length_miles: \"Length_Miles\",\r\n            steps_to_travel: \"Steps_to_Travel\"\r\n        }\r\n    },\r\n    colors: {\r\n        defaultTrail: {\r\n            path: \"#E83A2B\",\r\n            halo: \"#7D0000\"\r\n        },\r\n        selectedTrail: {\r\n            path: \"#D2A002\",\r\n            halo: \"#7A5100\"\r\n        }\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(4);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* entry point for the application */\r\n__webpack_require__(5);\r\nvar esriConfig = __webpack_require__(1);\r\nesriConfig.request.useIdentity = false;\r\nvar State_1 = __webpack_require__(6);\r\nvar SceneElement_1 = __webpack_require__(9);\r\nvar trailManager_1 = __webpack_require__(24);\r\nvar SidePanel_1 = __webpack_require__(28);\r\nvar runtime = __webpack_require__(36);\r\nif (\"serviceWorker\" in navigator) {\r\n    runtime.register();\r\n}\r\n// Init state\r\nvar state = new State_1.default();\r\n// Create scene with state proprties\r\nvar sceneElement = new SceneElement_1.default(state);\r\n// Init Trail and create menu\r\ntrailManager_1.default.initTrails(state)\r\n    .then(function () {\r\n    var sidePanel = new SidePanel_1.default(state, sceneElement);\r\n});\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Accessor = __webpack_require__(7);\r\nvar decorators_1 = __webpack_require__(8);\r\nvar State = /** @class */ (function (_super) {\r\n    __extends(State, _super);\r\n    function State() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayLoading = true;\r\n        _this.selectedTrailId = null;\r\n        _this.trailRoute = null;\r\n        _this.currentBasemapId = null;\r\n        _this.view = null;\r\n        _this.trails = null;\r\n        _this.online = true;\r\n        return _this;\r\n    }\r\n    State.prototype.setSelectedTrailId = function (id) {\r\n        this.selectedTrailId = id;\r\n    };\r\n    State.prototype.setTrailRoutes = function (value) {\r\n        var oldValue = this._get(\"trailRoute\");\r\n        if (oldValue !== value) {\r\n            this._set(\"trailRoute\", value);\r\n        }\r\n    };\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"displayLoading\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"selectedTrailId\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"trailRoute\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"currentBasemapId\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"view\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"trails\", void 0);\r\n    __decorate([\r\n        decorators_1.property()\r\n    ], State.prototype, \"online\", void 0);\r\n    State = __decorate([\r\n        decorators_1.subclass()\r\n    ], State);\r\n    return State;\r\n}(decorators_1.declared(Accessor)));\r\nexports.default = State;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Internal dependecies\r\nvar config_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(10);\r\n// Dojo dependencies\r\nvar domConstruct = __webpack_require__(2);\r\nvar Map = __webpack_require__(17);\r\nvar SceneView = __webpack_require__(18);\r\nvar FeatureLayer = __webpack_require__(19);\r\nvar NavigationToggle = __webpack_require__(20);\r\nvar Zoom = __webpack_require__(21);\r\nvar Compass = __webpack_require__(22);\r\nvar esriConfig = __webpack_require__(1);\r\n// CSS\r\n__webpack_require__(23);\r\n// URL for CORS enabled servers\r\nesriConfig.request.corsEnabledServers.push(\"wtb.maptiles.arcgis.com\");\r\nvar SceneElement = /** @class */ (function () {\r\n    // initilizes objects within SceneElement\r\n    function SceneElement(state) {\r\n        var _this = this;\r\n        this.state = state;\r\n        this.view = this.initView(); // Creates ScenceView with buttons.\r\n        this.state.view = this.view;\r\n        this.trailsLayer = this.initTrailsLayer(); // Creates FeatureLayer\r\n        this.view.when(function () {\r\n            // executes when the instance of the class loads.\r\n            _this.view.map.add(_this.trailsLayer); // add layer to the view.\r\n        });\r\n        this.view.on(\"click\", function (event) {\r\n            // Event on click\r\n            _this.onViewClick(event);\r\n            _this.trailsLayer;\r\n        });\r\n        // NOT SURE WHAT THIS IS DONG. DO MORE REASERCH\r\n        window.view = this.view;\r\n        // Updates selected trail when state changes.\r\n        state.watch(\"selectedTrailId\", function (value, oldValue) {\r\n            if (oldValue) {\r\n                _this.unselectFeature(oldValue);\r\n            }\r\n            if (value) {\r\n                _this.selectFeature(value);\r\n            }\r\n        });\r\n    }\r\n    // Creates SceneView with widgets.\r\n    SceneElement.prototype.initView = function () {\r\n        var map = new Map({\r\n            basemap: \"satellite\",\r\n            ground: \"world-elevation\"\r\n        });\r\n        var view = new SceneView({\r\n            container: \"scenePanel\",\r\n            map: map,\r\n            center: [-116.9772, 33.9295],\r\n            zoom: 10,\r\n            constraints: {\r\n                tilt: {\r\n                    max: 80,\r\n                    mode: \"manual\"\r\n                }\r\n            },\r\n            qualityProfile: \"high\",\r\n            environment: {\r\n                lighting: {\r\n                    directShadowsEnabled: true,\r\n                    ambientOcclusionEnabled: true\r\n                },\r\n                atmosphereEnabled: true,\r\n                atmosphere: {\r\n                    quality: \"high\"\r\n                },\r\n                starsEnabled: false\r\n            },\r\n            ui: {\r\n                components: [\"attribution\"]\r\n            },\r\n            padding: {\r\n                right: 300\r\n            },\r\n            popup: {\r\n                visible: false\r\n            }\r\n        });\r\n        // Widget provides two buttons for the pan and rotate gestures.\r\n        var navigationToggle = new NavigationToggle({\r\n            view: view\r\n        });\r\n        // Widget provides zoom in and out buttons.\r\n        var zoom = new Zoom({\r\n            view: view\r\n        });\r\n        // Widget provides a compass button.\r\n        var compass = new Compass({\r\n            view: view\r\n        });\r\n        // Adds widgets to the view.\r\n        view.ui.add([zoom, navigationToggle, compass], \"top-left\");\r\n        return view;\r\n    };\r\n    // Initialize Trail Layer\r\n    SceneElement.prototype.initTrailsLayer = function () {\r\n        return new FeatureLayer({\r\n            url: config_1.default.data.trailsServiceUrl,\r\n            title: \"San Bernardino County USFS Trails\",\r\n            outFields: [\"*\"],\r\n            renderer: utils_1.getTrailRenderer(),\r\n            elevationInfo: {\r\n                mode: \"on-the-ground\"\r\n            },\r\n            labelsVisible: true,\r\n            labelingInfo: utils_1.getLabelingInfo({ selection: null }),\r\n            popupEnabled: false\r\n        });\r\n    };\r\n    // On Click functionality\r\n    SceneElement.prototype.onViewClick = function (event) {\r\n        var _this = this;\r\n        // check if the user is online\r\n        if (this.state.online) {\r\n            this.showLoadingIcon(event);\r\n            this.view.hitTest(event)\r\n                .then(function (response) {\r\n                _this.view.popup.close();\r\n                var result = response.results[0];\r\n                var query = _this.trailsLayer.createQuery();\r\n                query.geometry = result.mapPoint;\r\n                query.distance = 400;\r\n                query.units = \"meters\";\r\n                query.spatialRelationship = \"intersects\";\r\n                _this.trailsLayer\r\n                    .queryFeatures(query)\r\n                    .then(function (results) {\r\n                    if (results.features.length > 0) {\r\n                        _this.state.setSelectedTrailId(results.features[0].attributes[config_1.default.data.trailAttributes.id]);\r\n                    }\r\n                    else {\r\n                        _this.state.setSelectedTrailId(null);\r\n                    }\r\n                    _this.removeLoadingIcon();\r\n                })\r\n                    .catch(function (err) { return console.log(err); });\r\n            });\r\n        }\r\n    };\r\n    // Loading Icon\r\n    SceneElement.prototype.showLoadingIcon = function (event) {\r\n        domConstruct.create(\"span\", {\r\n            class: \"fa fa-spinner fa-spin\",\r\n            id: \"loadingIcon\",\r\n            style: {\r\n                position: \"absolute\",\r\n                fontSize: \"40px\",\r\n                top: event.screenPoint.y - 15 + \"px\",\r\n                left: event.screenPoint.x - 15 + \"px\"\r\n            }\r\n        }, document.body);\r\n    };\r\n    SceneElement.prototype.removeLoadingIcon = function () {\r\n        domConstruct.destroy(\"loadingIcon\");\r\n    };\r\n    // Update selected trail\r\n    SceneElement.prototype.selectFeature = function (featureId) {\r\n        var renderer = this.trailsLayer.renderer.clone();\r\n        renderer.uniqueValueInfos = utils_1.getUniqueValueInfos({ selection: featureId });\r\n        this.trailsLayer.renderer = renderer;\r\n        this.trailsLayer.labelingInfo = utils_1.getLabelingInfo({ selection: featureId });\r\n        var selectedTrail = this.state.trails.filter(function (trail) {\r\n            return trail.id === featureId;\r\n        })[0];\r\n        this.view.goTo({ target: selectedTrail.geometry, tilt: 60 }, { speedFactor: 0.5 });\r\n    };\r\n    // Remove preivously selected feature\r\n    SceneElement.prototype.unselectFeature = function (oldId) {\r\n        var renderer = this.trailsLayer.renderer.clone();\r\n        renderer.uniqueValueInfos = [];\r\n        this.trailsLayer.renderer = renderer;\r\n        this.trailsLayer.labelingInfo = utils_1.getLabelingInfo({ selection: null });\r\n        var selectedTrail = this.state.trails.filter(function (trail) {\r\n            return trail.id === oldId;\r\n        })[0];\r\n    };\r\n    return SceneElement;\r\n}());\r\nexports.default = SceneElement;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar config_1 = __webpack_require__(0);\r\nvar UniqueValueRenderer = __webpack_require__(11);\r\nvar LineSymbol3D = __webpack_require__(12);\r\nvar LineSymbol3DLayer = __webpack_require__(13);\r\nvar LabelSymbol3D = __webpack_require__(14);\r\nvar LabelClass = __webpack_require__(15);\r\nvar TextSymbol3DLayer = __webpack_require__(16);\r\nfunction getTrailRenderer() {\r\n    return new UniqueValueRenderer({\r\n        field: config_1.default.data.trailAttributes.id,\r\n        defaultSymbol: createTrailSymbol({\r\n            selection: null\r\n        }),\r\n        uniqueValueInfos: []\r\n    });\r\n}\r\nexports.getTrailRenderer = getTrailRenderer;\r\n// function for creating symbols for trails when they are selected or not\r\nfunction createTrailSymbol(options) {\r\n    var color = options.selection\r\n        ? config_1.default.colors.selectedTrail\r\n        : config_1.default.colors.defaultTrail;\r\n    var size = options.selection ? 4 : 2;\r\n    return new LineSymbol3D({\r\n        symbolLayers: [\r\n            new LineSymbol3DLayer({\r\n                material: {\r\n                    color: color.path\r\n                },\r\n                size: size\r\n            })\r\n        ]\r\n    });\r\n}\r\nfunction getUniqueValueInfos(options) {\r\n    if (options.selection) {\r\n        return [\r\n            {\r\n                value: options.selection,\r\n                symbol: createTrailSymbol(options)\r\n            }\r\n        ];\r\n    }\r\n}\r\nexports.getUniqueValueInfos = getUniqueValueInfos;\r\nfunction getLabelingInfo(options) {\r\n    if (options.selection) {\r\n        return [createLabelClass(options), createLabelClass({})];\r\n    }\r\n    else {\r\n        return [createLabelClass({})];\r\n    }\r\n}\r\nexports.getLabelingInfo = getLabelingInfo;\r\nfunction createLabelClass(options) {\r\n    var color = options.selection\r\n        ? config_1.default.colors.selectedTrail\r\n        : config_1.default.colors.defaultTrail;\r\n    var labelClass = new LabelClass({\r\n        symbol: new LabelSymbol3D({\r\n            symbolLayers: [\r\n                new TextSymbol3DLayer({\r\n                    material: {\r\n                        color: \"white\"\r\n                    },\r\n                    halo: {\r\n                        color: color.halo,\r\n                        size: 1.3\r\n                    },\r\n                    font: {\r\n                        family: \"Arial, Helvetica, sans-serif\",\r\n                        weight: \"bold\"\r\n                    },\r\n                    size: 13\r\n                })\r\n            ],\r\n            verticalOffset: {\r\n                screenLength: 80,\r\n                maxWorldLength: 2000,\r\n                minWorldLength: 500\r\n            },\r\n            callout: {\r\n                type: \"line\",\r\n                size: 2,\r\n                color: \"white\",\r\n                border: {\r\n                    color: color.halo\r\n                }\r\n            }\r\n        }),\r\n        labelPlacement: \"above-center\",\r\n        labelExpressionInfo: {\r\n            expression: \"$feature.\" + config_1.default.data.trailAttributes.name\r\n        }\r\n    });\r\n    if (options.selection) {\r\n        labelClass.where = config_1.default.data.trailAttributes.id + \" = \" + options.selection;\r\n    }\r\n    return labelClass;\r\n}\r\nexports.createLabelClass = createLabelClass;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar config_1 = __webpack_require__(0);\r\nvar Query = __webpack_require__(25);\r\nvar QueryTask = __webpack_require__(26);\r\nvar Trail_1 = __webpack_require__(27);\r\nfunction queryTrails() {\r\n    var query = new Query({\r\n        outFields: [\"*\"],\r\n        where: \"1=1\",\r\n        returnGeometry: true,\r\n        outSpatialReference: {\r\n            wkid: 4326\r\n        }\r\n    });\r\n    var queryTask = new QueryTask({\r\n        url: config_1.default.data.trailsServiceUrl\r\n    });\r\n    return queryTask.execute(query);\r\n}\r\nvar trailManager = {\r\n    initTrails: function (state) {\r\n        return queryTrails().then(function (result) {\r\n            state.trails = result.features.map(function (feature) {\r\n                return new Trail_1.default(feature, state);\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\nexports.default = trailManager;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar config_1 = __webpack_require__(0);\r\nvar Trail = /** @class */ (function () {\r\n    function Trail(feature, state) {\r\n        this.geometry = feature.geometry;\r\n        this.state = state;\r\n        this.elevationIsSet = null;\r\n        // add attribute data based on the mapping in the configuration file\r\n        var attributeMap = config_1.default.data.trailAttributes;\r\n        for (var prop in attributeMap) {\r\n            this[prop] = feature.attributes[attributeMap[prop]];\r\n        }\r\n    }\r\n    return Trail;\r\n}());\r\nexports.default = Trail;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar dom = __webpack_require__(29);\r\nvar on = __webpack_require__(30);\r\nvar domConstruct = __webpack_require__(2);\r\nvar GraphicsLayer = __webpack_require__(31);\r\nvar utils_1 = __webpack_require__(32);\r\n__webpack_require__(35);\r\nvar SidePanel = /** @class */ (function () {\r\n    function SidePanel(state, scene) {\r\n        var _this = this;\r\n        this.state = state;\r\n        this.trails = state.trails;\r\n        this.detailsContainer = dom.byId(\"detailPanel\");\r\n        this.routesContainer = dom.byId(\"routesPanel\");\r\n        this.emptyDetails();\r\n        var graphicsLayer = new GraphicsLayer();\r\n        scene.view.map.add(graphicsLayer);\r\n        state.watch(\"selectedTrailId\", function (id) {\r\n            graphicsLayer.removeAll();\r\n            _this.emptyDetails();\r\n            if (id) {\r\n                var selectedTrail = _this.trails.filter(function (trail) { return trail.id === id; })[0];\r\n                _this.displayInfo(selectedTrail);\r\n                // Add trails to trailRoute\r\n                _this.addRouteEvent(_this.state, _this.trails);\r\n            }\r\n        });\r\n        // Watches for changes in trailRoute and executes dispalyRoutes\r\n        state.watch(\"trailRoute\", function (value) {\r\n            // TODO: sort and do magic before routes are disalyed\r\n            _this.displayRoutes(utils_1.getIntersectingTrails(value));\r\n        });\r\n        on(document.querySelector(\"#routesPanel\"), \".removeTrail:click\", function (evt) {\r\n            var trailid = evt.target.dataset.trailid;\r\n            var trailRoute = state.trailRoute;\r\n            if (trailRoute) {\r\n                trailRoute.forEach(function (value, i) {\r\n                    if (value.id === trailid) {\r\n                        trailRoute.splice(i, 1);\r\n                    }\r\n                });\r\n                state.setTrailRoutes(trailRoute.slice());\r\n            }\r\n        });\r\n        on(document.querySelector(\"#routesPanel\"), \".no-group:click\", function (evt) {\r\n            var trailid = evt.target.dataset.trailid;\r\n            state.setSelectedTrailId(trailid);\r\n        });\r\n        on(document.querySelector(\"#routesPanel\"), \".group:click\", function (evt) {\r\n            var trailid = evt.target.dataset.trailid;\r\n            if (trailid) {\r\n                state.setSelectedTrailId(trailid);\r\n            }\r\n            else {\r\n                graphicsLayer.removeAll();\r\n                var geometry = utils_1.createRouteSymbol(evt, state.trails);\r\n                graphicsLayer.add(geometry);\r\n                scene.view.goTo({ target: geometry, tilt: 60 }, { speedFactor: 0.5 });\r\n            }\r\n        });\r\n    }\r\n    // Add trail to Route\r\n    SidePanel.prototype.addRouteEvent = function (state, trails) {\r\n        on(document.querySelector(\"#addRoute\"), \"click\", function (evt) {\r\n            var trailid = evt.target.dataset.trailid;\r\n            var selectedTrail = trails.filter(function (trail) { return trail.id === trailid; })[0];\r\n            var trailRoute = state.trailRoute;\r\n            if (!trailRoute) {\r\n                // Add trail to route.\r\n                state.setTrailRoutes(new Array(selectedTrail));\r\n            }\r\n            else {\r\n                // Check to see if trial in Route.\r\n                var found = trailRoute.some(function (el) {\r\n                    return el.id === trailid;\r\n                });\r\n                if (!found) {\r\n                    trailRoute.push(selectedTrail);\r\n                    state.setTrailRoutes(trailRoute.slice());\r\n                }\r\n            }\r\n        });\r\n    };\r\n    // removes active trail in dom and cshows displayAppInfo\r\n    SidePanel.prototype.emptyDetails = function () {\r\n        domConstruct.empty(this.detailsContainer);\r\n        this.displayAppInfo();\r\n    };\r\n    // Updates dom to show when trail is not selected\r\n    SidePanel.prototype.displayAppInfo = function () {\r\n        this.detailsContainer.innerHTML = \"<div class='detail-placeholder'>Select a trail to see details.</div>\";\r\n    };\r\n    // Updates Currently selected trail in dom\r\n    SidePanel.prototype.displayInfo = function (trail) {\r\n        this.detailsContainer.innerHTML = \"\\n            <div class=\\\"detailContent\\\">\\n                <div id=\\\"detailTitle\\\">\" + trail.name + \"</div>\\n                <div id=\\\"detailClass\\\">Class: \" + trail.trail_class + \"</div>\\n                <div class=\\\"row\\\">\\n                  <div id=\\\"detailLength\\\" class=\\\"column\\\"><i class=\\\"fas fa-route\\\"></i><br />\" + trail.length_miles.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \" mi</div>\\n                  <div id=\\\"detailSteps\\\" class=\\\"column\\\"><i class=\\\"fas fa-shoe-prints\\\"></i><br />\" + trail.steps_to_travel.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \"</div>\\n                </div>\\n                <button id=\\\"addRoute\\\" data-trailId=\\\"\" + trail.id + \"\\\">Add to Route</button>\\n            </div>\\n        \";\r\n    };\r\n    // Updates Routes in Dom\r\n    SidePanel.prototype.displayRoutes = function (value) {\r\n        var noGroups = value.intersections.noGroups;\r\n        var groups = value.intersections.groups;\r\n        var content = \"\";\r\n        if (groups.length >= 1) {\r\n            groups.forEach(function (group, index) {\r\n                var routeLength = 0;\r\n                var routeSteps = 0;\r\n                var routeArray = [];\r\n                group.forEach(function (trail) {\r\n                    routeArray.push(trail.id);\r\n                });\r\n                content += \"\\n                  <div class=\\\"route group group-\" + (index + 1) + \"\\\" data-routeIDs=\\\"\" + routeArray + \"\\\">\\n                    <div class=\\\"route-heading\\\">Route \" + (index + 1) + \"</div>\\n                \";\r\n                group.forEach(function (trail) {\r\n                    routeLength += trail.length_miles;\r\n                    routeSteps += trail.steps_to_travel;\r\n                    content += \"\\n                      <div class=\\\"group-single\\\" data-trailID=\\\"\" + trail.id + \"\\\">\\n                        <div class=\\\"routeTitle\\\">\" + trail.name + \"</div>\\n                        <i class=\\\"far fa-window-close removeTrail\\\" data-trailID=\\\"\" + trail.id + \"\\\"></i>\\n                      </div>\";\r\n                });\r\n                content += \"\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"routeLength column\\\"><i class=\\\"fas fa-route\\\"></i><br />\" + routeLength.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \" mi</div>\\n                      <div class=\\\"routeSteps column\\\"><i class=\\\"fas fa-shoe-prints\\\"></i><br />\" + routeSteps.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \"</div>\\n                    </div>\\n                  </div>\\n                \";\r\n            });\r\n        }\r\n        if (noGroups.length >= 1) {\r\n            content += \"<div class=\\\"route-heading no-route\\\">Not in Route</div>\";\r\n            noGroups.forEach(function (trail, index) {\r\n                content += \"\\n                  <div class=\\\"route no-group no-group-\" + (index + 1) + \"\\\" data-trailID=\\\"\" + trail.id + \"\\\">\\n                    <div class=\\\"routeTitle\\\">\" + trail.name + \"</div>\\n                    <div class=\\\"routeClass\\\">Class: \" + trail.trail_class + \"</div>\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"routeLength column\\\"><i class=\\\"fas fa-route\\\"></i><br />\" + trail.length_miles.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \" mi</div>\\n                      <div class=\\\"routeSteps column\\\"><i class=\\\"fas fa-shoe-prints\\\"></i><br />\" + trail.steps_to_travel.toLocaleString(\"en\", { maximumFractionDigits: 2 }) + \"</div>\\n                    </div>\\n                    <i class=\\\"far fa-window-close removeTrail\\\" data-trailID=\\\"\" + trail.id + \"\\\"></i>\\n                  </div>\\n                \";\r\n            });\r\n        }\r\n        this.routesContainer.innerHTML = content;\r\n    };\r\n    return SidePanel;\r\n}());\r\nexports.default = SidePanel;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_29__;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_31__;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar geometryEngine = __webpack_require__(33);\r\nvar Graphic = __webpack_require__(34);\r\nfunction getIntersectingTrails(trails) {\r\n    var intersections = [];\r\n    var groups = [];\r\n    var groupedIds = [];\r\n    var noGroups = [];\r\n    var visited = {};\r\n    var v;\r\n    if (trails.length > 1) {\r\n        for (var i = 0; i < trails.length - 1; i++) {\r\n            for (var j = i + 1; j < trails.length; j++) {\r\n                var val1 = trails[i].geometry;\r\n                var val2 = trails[j].geometry;\r\n                var comparision = geometryEngine.intersects(val1, val2);\r\n                if (comparision) {\r\n                    intersections.push([trails[i].id, trails[j].id]);\r\n                }\r\n            }\r\n        }\r\n        // Group trails based on connectivity and return ID\r\n        var adjlist = convert_edgelist_to_adjlist(intersections);\r\n        for (v in adjlist) {\r\n            if (adjlist.hasOwnProperty(v) && !visited[v]) {\r\n                groupedIds.push(bfs(v, adjlist, visited));\r\n            }\r\n        }\r\n        // ID trail id to retrieve trail.\r\n        groupedIds.forEach(function (group) {\r\n            var singleGroup = [];\r\n            for (var _i = 0, group_1 = group; _i < group_1.length; _i++) {\r\n                var trailid = group_1[_i];\r\n                for (var _a = 0, trails_1 = trails; _a < trails_1.length; _a++) {\r\n                    var trail = trails_1[_a];\r\n                    if (trail.id === trailid) {\r\n                        singleGroup.push(trail);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            groups.push(singleGroup);\r\n        });\r\n        // Find values in trail that are not grouped.\r\n        var flatGroup_1 = [].concat.apply([], groupedIds);\r\n        trails.forEach(function (trail) {\r\n            if (!flatGroup_1.includes(trail.id)) {\r\n                noGroups.push(trail);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        if (trails.length === 1) {\r\n            noGroups.push(trails[0]);\r\n        }\r\n    }\r\n    return {\r\n        intersections: {\r\n            \"groups\": groups,\r\n            \"noGroups\": noGroups\r\n        }\r\n    };\r\n}\r\nexports.getIntersectingTrails = getIntersectingTrails;\r\nvar convert_edgelist_to_adjlist = function (edgelist) {\r\n    var adjlist = {};\r\n    var i, len, pair, u, v;\r\n    for (i = 0, len = edgelist.length; i < len; i += 1) {\r\n        pair = edgelist[i];\r\n        u = pair[0];\r\n        v = pair[1];\r\n        if (adjlist[u]) {\r\n            // append vertex v to edgelist of vertex u\r\n            adjlist[u].push(v);\r\n        }\r\n        else {\r\n            // vertex u is not in adjlist, create new adjacency list for it\r\n            adjlist[u] = [v];\r\n        }\r\n        if (adjlist[v]) {\r\n            adjlist[v].push(u);\r\n        }\r\n        else {\r\n            adjlist[v] = [u];\r\n        }\r\n    }\r\n    return adjlist;\r\n};\r\n// Breadth First Search using adjacency list\r\nvar bfs = function (v, adjlist, visited) {\r\n    var q = [];\r\n    var current_group = [];\r\n    var i, len, adjV, nextVertex;\r\n    q.push(v);\r\n    visited[v] = true;\r\n    while (q.length > 0) {\r\n        v = q.shift();\r\n        current_group.push(v);\r\n        // Go through adjacency list of vertex v, and push any unvisited\r\n        // vertex onto the queue.\r\n        // This is more efficient than our earlier approach of going\r\n        // through an edge list.\r\n        adjV = adjlist[v];\r\n        for (i = 0, len = adjV.length; i < len; i += 1) {\r\n            nextVertex = adjV[i];\r\n            if (!visited[nextVertex]) {\r\n                q.push(nextVertex);\r\n                visited[nextVertex] = true;\r\n            }\r\n        }\r\n    }\r\n    return current_group;\r\n};\r\nfunction createRouteSymbol(node, trails) {\r\n    var route = [];\r\n    var routeIds = node.target.dataset.routeids;\r\n    routeIds = routeIds.split(\",\");\r\n    routeIds.forEach(function (id) {\r\n        route.push(trails.filter(function (trail) { return trail.id === id; })[0].geometry);\r\n    });\r\n    var routeGeometry = geometryEngine.union(route);\r\n    var polylineSymbol = {\r\n        type: \"simple-line\",\r\n        color: [255, 221, 0],\r\n        width: 4\r\n    };\r\n    var polylineAtt = {\r\n        Name: \"Keystone Pipeline\",\r\n        Owner: \"TransCanada\"\r\n    };\r\n    var polylineGraphic = new Graphic({\r\n        geometry: routeGeometry,\r\n        symbol: polylineSymbol,\r\n        attributes: polylineAtt\r\n    });\r\n    return polylineGraphic;\r\n}\r\nexports.createRouteSymbol = createRouteSymbol;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_33__;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_34__;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint-disable flowtype/require-valid-file-annotation */\n\nthrow new Error(\"serviceworker-webpack-plugin: It seems that your are importing\\n  \\\"serviceworker-webpack-plugin/lib/runtime\\\" without using the plugin.\\n  Makes sure that your webpack configuration is correct.\");\n\n/***/ })\n/******/ ])});;\n\n\n// WEBPACK FOOTER //\n// main.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9352a382dc409da92827","export default {\r\n    data: {\r\n        trailsServiceUrl: \"http://services.arcgis.com/aA3snZwJfFkVyDuP/ArcGIS/rest/services/Vision2BActive_USFS_Trails/FeatureServer/0\",\r\n        trailAttributes: {\r\n            name: \"NAME\",\r\n            id: \"ID\",\r\n            trail_class: \"TRAIL_CLASS\",\r\n            length_miles: \"Length_Miles\",\r\n            steps_to_travel: \"Steps_to_Travel\"\r\n        }\r\n    },\r\n    colors: {\r\n        defaultTrail: {\r\n            path: \"#E83A2B\",\r\n            halo: \"#7D0000\"\r\n        },\r\n        selectedTrail: {\r\n            path: \"#D2A002\",\r\n            halo: \"#7A5100\"\r\n        }\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/config.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/config\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/dom-construct\"\n// module id = 2\n// module chunks = 0","/* entry point for the application */\nimport \"../style/style.scss\";\n\nimport esriConfig = require(\"esri/config\");\nesriConfig.request.useIdentity = false;\n\nimport State from \"./State\";\nimport ConnectionManager from \"./ui/ConnectionManager\";\nimport SceneElement from \"./scene/SceneElement\";\nimport trailManager from \"./data/trailManager\";\nimport SidePanel from \"./ui/SidePanel\";\n\nimport * as runtime from \"serviceworker-webpack-plugin/lib/runtime\";\n\nif (\"serviceWorker\" in navigator) {\n    runtime.register();\n}\n\n// Init state\nconst state = new State();\n\n// Create scene with state proprties\nconst sceneElement = new SceneElement(state);\n\n// Init Trail and create menu\ntrailManager.initTrails(state)\n    .then(() => {\n        const sidePanel = new SidePanel(state, sceneElement);\n    });\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/main.ts","import Accessor = require(\"esri/core/Accessor\");\r\nimport SceneView = require(\"esri/views/SceneView\");\r\nimport { Trail } from \"./types\";\r\nimport {\r\n    subclass,\r\n    declared,\r\n    property\r\n} from \"esri/core/accessorSupport/decorators\";\r\n\r\n@subclass()\r\nexport default class State extends declared(Accessor) {\r\n\r\n    @property()\r\n    displayLoading: boolean = true;\r\n\r\n    @property()\r\n    selectedTrailId: string = null;\r\n    setSelectedTrailId(id: string) {\r\n        this.selectedTrailId = id;\r\n    }\r\n\r\n    @property()\r\n    trailRoute: Array<Trail> = null;\r\n\r\n    setTrailRoutes(value: Array<Trail>) {\r\n        const oldValue = this._get<Array<Trail>>(\"trailRoute\");\r\n        if (oldValue !== value) {\r\n            this._set(\"trailRoute\", value);\r\n        }\r\n    }\r\n\r\n    @property()\r\n    currentBasemapId: string = null;\r\n\r\n    @property()\r\n    view: SceneView = null;\r\n\r\n    @property()\r\n    trails: Array<Trail> = null;\r\n\r\n    @property()\r\n    online: boolean = true;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/State.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/core/Accessor\"\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/core/accessorSupport/decorators\"\n// module id = 8\n// module chunks = 0","// Internal dependecies\r\nimport config from \"../config\";\r\nimport {\r\n    getTrailRenderer,\r\n    getLabelingInfo,\r\n    getUniqueValueInfos\r\n} from \"./utils\";\r\nimport { State } from \"../types\";\r\n\r\n// Dojo dependencies\r\nimport * as domConstruct from \"dojo/dom-construct\";\r\nimport * as dom from \"dojo/dom\";\r\nimport * as on from \"dojo/on\";\r\nimport * as all from \"dojo/promise/all\";\r\n\r\n// Esri dependecies\r\nimport * as WebScene from \"esri/WebScene\";\r\nimport * as Map from \"esri/Map\";\r\nimport * as SceneView from \"esri/views/SceneView\";\r\nimport * as FeatureLayer from \"esri/layers/FeatureLayer\";\r\nimport * as Query from \"esri/tasks/support/Query\";\r\nimport * as GroupLayer from \"esri/layers/GroupLayer\";\r\nimport * as UniqueValueRenderer from \"esri/renderers/UniqueValueRenderer\";\r\nimport * as NavigationToggle from \"esri/widgets/NavigationToggle\";\r\nimport * as Zoom from \"esri/widgets/Zoom\";\r\nimport * as Compass from \"esri/widgets/Compass\";\r\nimport * as esriConfig from \"esri/config\";\r\nimport * as watchUtils from \"esri/core/watchUtils\";\r\n\r\n// CSS\r\nimport \"../../style/scene.scss\";\r\n\r\n// URL for CORS enabled servers\r\nesriConfig.request.corsEnabledServers.push(\"wtb.maptiles.arcgis.com\");\r\n\r\nexport default class SceneElement {\r\n    state: State;\r\n    // Displays a 3D view of a Map on WebScene instance using WebGL.\r\n    view: SceneView;\r\n    // Single layer that can be created from a Map Service or Feature Service.\r\n    trailsLayer: FeatureLayer;\r\n\r\n    trails: Array<any>;\r\n\r\n    // initilizes objects within SceneElement\r\n    constructor(state: State) {\r\n        this.state = state;\r\n        this.view = this.initView(); // Creates ScenceView with buttons.\r\n        this.state.view = this.view;\r\n\r\n        this.trailsLayer = this.initTrailsLayer(); // Creates FeatureLayer\r\n        this.view.when(() => {\r\n            // executes when the instance of the class loads.\r\n            this.view.map.add(this.trailsLayer); // add layer to the view.\r\n        });\r\n\r\n        this.view.on(\"click\", event => {\r\n            // Event on click\r\n            this.onViewClick(event);\r\n            this.trailsLayer;\r\n        });\r\n\r\n        // NOT SURE WHAT THIS IS DONG. DO MORE REASERCH\r\n        (<any> window).view = this.view;\r\n\r\n        // Updates selected trail when state changes.\r\n        state.watch(\"selectedTrailId\", (value, oldValue) => {\r\n            if (oldValue) {\r\n                this.unselectFeature(oldValue);\r\n            }\r\n            if (value) {\r\n                this.selectFeature(value);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Creates SceneView with widgets.\r\n    private initView() {\r\n        const map = new Map({\r\n            basemap: \"satellite\",\r\n            ground: \"world-elevation\"\r\n        });\r\n\r\n        const view = new SceneView({\r\n            container: \"scenePanel\",\r\n            map: map,\r\n            center: [-116.9772, 33.9295],\r\n            zoom: 10,\r\n            constraints: {\r\n                tilt: {\r\n                    max: 80,\r\n                    mode: \"manual\"\r\n                }\r\n            },\r\n            qualityProfile: \"high\",\r\n            environment: {\r\n                lighting: {\r\n                    directShadowsEnabled: true,\r\n                    ambientOcclusionEnabled: true\r\n                },\r\n                atmosphereEnabled: true,\r\n                atmosphere: {\r\n                    quality: \"high\"\r\n                },\r\n                starsEnabled: false\r\n            },\r\n            ui: {\r\n                components: [\"attribution\"]\r\n            },\r\n            padding: {\r\n                right: 300\r\n            },\r\n            popup: {\r\n                visible: false\r\n            }\r\n        });\r\n\r\n        // Widget provides two buttons for the pan and rotate gestures.\r\n        const navigationToggle = new NavigationToggle({\r\n            view: view\r\n        });\r\n\r\n        // Widget provides zoom in and out buttons.\r\n        const zoom = new Zoom({\r\n            view: view\r\n        });\r\n\r\n        // Widget provides a compass button.\r\n        const compass = new Compass({\r\n            view: view\r\n        });\r\n\r\n        // Adds widgets to the view.\r\n        view.ui.add([zoom, navigationToggle, compass], \"top-left\");\r\n        return view;\r\n    }\r\n\r\n    // Initialize Trail Layer\r\n    private initTrailsLayer() {\r\n        return new FeatureLayer({\r\n            url: config.data.trailsServiceUrl,\r\n            title: \"San Bernardino County USFS Trails\",\r\n            outFields: [\"*\"],\r\n            renderer: getTrailRenderer(),\r\n            elevationInfo: {\r\n                mode: \"on-the-ground\"\r\n            },\r\n            labelsVisible: true,\r\n            labelingInfo: getLabelingInfo({ selection: null }),\r\n            popupEnabled: false\r\n        });\r\n    }\r\n\r\n    // On Click functionality\r\n    private onViewClick(event) {\r\n        // check if the user is online\r\n        if (this.state.online) {\r\n            this.showLoadingIcon(event);\r\n            this.view.hitTest(event)\r\n                .then(response => {\r\n                    this.view.popup.close();\r\n                    const result = response.results[0];\r\n\r\n                    const query = this.trailsLayer.createQuery();\r\n                    query.geometry = result.mapPoint;\r\n                    query.distance = 400;\r\n                    query.units = \"meters\";\r\n                    query.spatialRelationship = \"intersects\";\r\n                    this.trailsLayer\r\n                        .queryFeatures(query)\r\n                        .then(results => {\r\n                            if (results.features.length > 0) {\r\n                                this.state.setSelectedTrailId(\r\n                                    results.features[0].attributes[config.data.trailAttributes.id]\r\n                                );\r\n                            } else {\r\n                                this.state.setSelectedTrailId(null);\r\n                            }\r\n                            this.removeLoadingIcon();\r\n                        })\r\n                        .catch(err => console.log(err));\r\n                });\r\n        }\r\n    }\r\n\r\n    // Loading Icon\r\n    private showLoadingIcon(event) {\r\n        domConstruct.create(\"span\", {\r\n            class: \"fa fa-spinner fa-spin\",\r\n            id: \"loadingIcon\",\r\n            style: {\r\n                position: \"absolute\",\r\n                fontSize: \"40px\",\r\n                top: `${event.screenPoint.y - 15}px`,\r\n                left: `${event.screenPoint.x - 15}px`\r\n            }\r\n        }, document.body);\r\n    }\r\n\r\n    private removeLoadingIcon() {\r\n        domConstruct.destroy(\"loadingIcon\");\r\n    }\r\n\r\n    // Update selected trail\r\n    private selectFeature(featureId): void {\r\n        const renderer = (<UniqueValueRenderer> this.trailsLayer.renderer).clone();\r\n        renderer.uniqueValueInfos = getUniqueValueInfos({ selection: featureId });\r\n        this.trailsLayer.renderer = renderer;\r\n\r\n        this.trailsLayer.labelingInfo = getLabelingInfo({ selection: featureId });\r\n\r\n        const selectedTrail = this.state.trails.filter(trail => {\r\n            return trail.id === featureId;\r\n        })[0];\r\n\r\n        this.view.goTo(\r\n            { target: selectedTrail.geometry, tilt: 60 },\r\n            { speedFactor: 0.5 }\r\n        );\r\n    }\r\n\r\n    // Remove preivously selected feature\r\n    private unselectFeature(oldId): void {\r\n        const renderer = (<UniqueValueRenderer> this.trailsLayer.renderer).clone();\r\n        renderer.uniqueValueInfos = [];\r\n        this.trailsLayer.renderer = renderer;\r\n\r\n        this.trailsLayer.labelingInfo = getLabelingInfo({ selection: null });\r\n        const selectedTrail = this.state.trails.filter(trail => {\r\n            return trail.id === oldId;\r\n        })[0];\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/scene/SceneElement.ts","import config from \"../config\";\r\nimport * as UniqueValueRenderer from \"esri/renderers/UniqueValueRenderer\";\r\nimport * as LineSymbol3D from \"esri/symbols/LineSymbol3D\";\r\nimport * as LineSymbol3DLayer from \"esri/symbols/LineSymbol3DLayer\";\r\nimport * as LabelSymbol3D from \"esri/symbols/LabelSymbol3D\";\r\nimport * as LabelClass from \"esri/layers/support/LabelClass\";\r\nimport * as TextSymbol3DLayer from \"esri/symbols/TextSymbol3DLayer\";\r\n\r\nexport function getTrailRenderer(): UniqueValueRenderer {\r\n    return new UniqueValueRenderer({\r\n        field: config.data.trailAttributes.id,\r\n        defaultSymbol: createTrailSymbol({\r\n            selection: null\r\n        }),\r\n        uniqueValueInfos: []\r\n    });\r\n}\r\n\r\n// function for creating symbols for trails when they are selected or not\r\nfunction createTrailSymbol(options) {\r\n    const color = options.selection\r\n        ? config.colors.selectedTrail\r\n        : config.colors.defaultTrail;\r\n    const size = options.selection ? 4 : 2;\r\n\r\n    return new LineSymbol3D({\r\n        symbolLayers: [\r\n            new LineSymbol3DLayer({\r\n                material: {\r\n                    color: color.path\r\n                },\r\n                size: size\r\n            })\r\n        ]\r\n    });\r\n}\r\n\r\nexport function getUniqueValueInfos(options) {\r\n    if (options.selection) {\r\n        return [\r\n            {\r\n                value: options.selection,\r\n                symbol: createTrailSymbol(options)\r\n            }\r\n        ];\r\n    }\r\n}\r\n\r\nexport function getLabelingInfo(options) {\r\n    if (options.selection) {\r\n        return [createLabelClass(options), createLabelClass({})];\r\n    } else {\r\n        return [createLabelClass({})];\r\n    }\r\n}\r\n\r\nexport function createLabelClass(options) {\r\n    const color = options.selection\r\n        ? config.colors.selectedTrail\r\n        : config.colors.defaultTrail;\r\n\r\n    const labelClass = new LabelClass({\r\n        symbol: new LabelSymbol3D({\r\n            symbolLayers: [\r\n                new TextSymbol3DLayer({\r\n                    material: {\r\n                        color: \"white\"\r\n                    },\r\n                    halo: {\r\n                        color: color.halo,\r\n                        size: 1.3\r\n                    },\r\n                    font: {\r\n                        family: \"Arial, Helvetica, sans-serif\",\r\n                        weight: \"bold\"\r\n                    },\r\n                    size: 13\r\n                })\r\n            ],\r\n            verticalOffset: {\r\n                screenLength: 80,\r\n                maxWorldLength: 2000,\r\n                minWorldLength: 500\r\n            },\r\n            callout: {\r\n                type: \"line\",\r\n                size: 2,\r\n                color: \"white\",\r\n                border: {\r\n                    color: color.halo\r\n                }\r\n            }\r\n        }),\r\n        labelPlacement: \"above-center\",\r\n        labelExpressionInfo: {\r\n            expression: `$feature.${config.data.trailAttributes.name}`\r\n        }\r\n    });\r\n    if (options.selection) {\r\n        labelClass.where = `${config.data.trailAttributes.id} = ${\r\n            options.selection\r\n            }`;\r\n    }\r\n\r\n    return labelClass;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/scene/utils.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/renderers/UniqueValueRenderer\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/symbols/LineSymbol3D\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/symbols/LineSymbol3DLayer\"\n// module id = 13\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/symbols/LabelSymbol3D\"\n// module id = 14\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/layers/support/LabelClass\"\n// module id = 15\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/symbols/TextSymbol3DLayer\"\n// module id = 16\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/Map\"\n// module id = 17\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/views/SceneView\"\n// module id = 18\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/layers/FeatureLayer\"\n// module id = 19\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/NavigationToggle\"\n// module id = 20\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/Zoom\"\n// module id = 21\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/Compass\"\n// module id = 22\n// module chunks = 0","import config from \"../config\";\r\nimport * as Query from \"esri/tasks/support/Query\";\r\nimport * as QueryTask from \"esri/tasks/QueryTask\";\r\n\r\nimport Trail from \"./Trail\";\r\n\r\nfunction queryTrails() {\r\n    const query = new Query({\r\n        outFields: [\"*\"],\r\n        where: \"1=1\",\r\n        returnGeometry: true,\r\n        outSpatialReference: {\r\n            wkid: 4326\r\n        }\r\n    });\r\n\r\n    const queryTask = new QueryTask({\r\n        url: config.data.trailsServiceUrl\r\n    });\r\n\r\n    return queryTask.execute(query);\r\n}\r\n\r\nconst trailManager = {\r\n\r\n    initTrails: (state) => {\r\n        return queryTrails().then((result) => {\r\n            state.trails = result.features.map((feature) => {\r\n                return new Trail(feature, state);\r\n            });\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n};\r\n\r\nexport default trailManager;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/data/trailManager.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/tasks/support/Query\"\n// module id = 25\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/tasks/QueryTask\"\n// module id = 26\n// module chunks = 0","import config from \"../config\";\r\nimport * as Polyline from \"esri/geometry/Polyline\";\r\nimport * as geometryEngine from \"esri/geometry/geometryEngine\";\r\nimport * as Deferred from \"dojo/Deferred\";\r\nimport State from \"../State\";\r\n\r\nexport default class Trail {\r\n\r\n    geometry: Polyline;\r\n    elevationIsSet;\r\n    profileData: Array<any>;\r\n    segments: any;\r\n    state: State;\r\n    minElevation: any;\r\n    maxElevation: any;\r\n\r\n    constructor(feature, state) {\r\n        this.geometry = feature.geometry;\r\n        this.state = state;\r\n        this.elevationIsSet = null;\r\n        // add attribute data based on the mapping in the configuration file\r\n        const attributeMap = config.data.trailAttributes;\r\n        for (const prop in attributeMap) {\r\n            this[prop] = feature.attributes[attributeMap[prop]];\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/data/Trail.ts","import * as dom from \"dojo/dom\";\r\nimport * as on from \"dojo/on\";\r\nimport * as domConstruct from \"dojo/dom-construct\";\r\nimport * as domClass from \"dojo/dom-class\";\r\nimport * as query from \"dojo/query\";\r\nimport * as mouse from \"dojo/mouse\";\r\n\r\nimport config from \"../config\";\r\nimport { State, Trail } from \"../types\";\r\nimport * as SceneView from \"esri/views/SceneView\";\r\nimport * as WebScene from \"esri/WebScene\";\r\nimport * as GraphicsLayer from \"esri/layers/GraphicsLayer\";\r\nimport * as Graphic from \"esri/Graphic\";\r\n\r\nimport {\r\n    getIntersectingTrails,\r\n    createRouteSymbol\r\n} from \"./utils\";\r\n\r\nimport \"../../style/side-panel.scss\";\r\n\r\nexport default class SidePanel {\r\n    trails: Array<Trail>;\r\n    state: State;\r\n    detailsContainer: any;\r\n    routesContainer: any;\r\n\r\n    constructor(state: State, scene) {\r\n\r\n        this.state = state;\r\n        this.trails = state.trails;\r\n\r\n        this.detailsContainer = dom.byId(\"detailPanel\");\r\n        this.routesContainer = dom.byId(\"routesPanel\");\r\n\r\n        this.emptyDetails();\r\n        const graphicsLayer = new GraphicsLayer();\r\n        scene.view.map.add(graphicsLayer);\r\n\r\n        state.watch(\"selectedTrailId\", (id) => {\r\n            graphicsLayer.removeAll();\r\n            this.emptyDetails();\r\n            if (id) {\r\n                const selectedTrail = this.trails.filter((trail) => { return trail.id === id; })[0];\r\n                this.displayInfo(selectedTrail);\r\n\r\n                // Add trails to trailRoute\r\n                this.addRouteEvent(this.state, this.trails);\r\n            }\r\n        });\r\n\r\n        // Watches for changes in trailRoute and executes dispalyRoutes\r\n        state.watch(\"trailRoute\", (value) => {\r\n            // TODO: sort and do magic before routes are disalyed\r\n            this.displayRoutes(getIntersectingTrails(value));\r\n        });\r\n\r\n        on(document.querySelector(\"#routesPanel\"), \".removeTrail:click\", function(evt) {\r\n            const trailid = evt.target.dataset.trailid;\r\n            const trailRoute = state.trailRoute;\r\n\r\n            if (trailRoute) {\r\n                trailRoute.forEach(function(value, i) {\r\n                    if (value.id === trailid) {\r\n                        trailRoute.splice(i, 1);\r\n                    }\r\n                });\r\n                state.setTrailRoutes(trailRoute.slice());\r\n            }\r\n        });\r\n\r\n        on(document.querySelector(\"#routesPanel\"), \".no-group:click\", function(evt) {\r\n            const trailid = evt.target.dataset.trailid;\r\n            state.setSelectedTrailId(trailid);\r\n        });\r\n\r\n        on(document.querySelector(\"#routesPanel\"), \".group:click\", function(evt) {\r\n            const trailid = evt.target.dataset.trailid;\r\n            if (trailid) {\r\n                state.setSelectedTrailId(trailid);\r\n            } else {\r\n                graphicsLayer.removeAll();\r\n                const geometry = createRouteSymbol(evt, state.trails);\r\n                graphicsLayer.add(geometry);\r\n                scene.view.goTo(\r\n                    { target: geometry, tilt: 60 },\r\n                    { speedFactor: 0.5 }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    // Add trail to Route\r\n    addRouteEvent(state, trails) {\r\n        on(document.querySelector(\"#addRoute\"), \"click\", (evt) => {\r\n            const trailid = evt.target.dataset.trailid;\r\n            const selectedTrail = trails.filter((trail) => { return trail.id === trailid; })[0];\r\n            const trailRoute = state.trailRoute;\r\n\r\n            if (!trailRoute) {\r\n                // Add trail to route.\r\n                state.setTrailRoutes(new Array(selectedTrail));\r\n            } else {\r\n                // Check to see if trial in Route.\r\n                const found = trailRoute.some(function(el) {\r\n                    return el.id === trailid;\r\n                });\r\n\r\n                if (!found) {\r\n                    trailRoute.push(selectedTrail);\r\n                    state.setTrailRoutes(trailRoute.slice());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // removes active trail in dom and cshows displayAppInfo\r\n    emptyDetails() {\r\n        domConstruct.empty(this.detailsContainer);\r\n        this.displayAppInfo();\r\n    }\r\n\r\n    // Updates dom to show when trail is not selected\r\n    displayAppInfo() {\r\n        this.detailsContainer.innerHTML = \"<div class='detail-placeholder'>Select a trail to see details.</div>\";\r\n    }\r\n\r\n    // Updates Currently selected trail in dom\r\n    displayInfo(trail: Trail): void {\r\n        this.detailsContainer.innerHTML = `\r\n            <div class=\"detailContent\">\r\n                <div id=\"detailTitle\">${trail.name}</div>\r\n                <div id=\"detailClass\">Class: ${trail.trail_class}</div>\r\n                <div class=\"row\">\r\n                  <div id=\"detailLength\" class=\"column\"><i class=\"fas fa-route\"></i><br />${trail.length_miles.toLocaleString(\"en\", { maximumFractionDigits: 2 })} mi</div>\r\n                  <div id=\"detailSteps\" class=\"column\"><i class=\"fas fa-shoe-prints\"></i><br />${trail.steps_to_travel.toLocaleString(\"en\", { maximumFractionDigits: 2 })}</div>\r\n                </div>\r\n                <button id=\"addRoute\" data-trailId=\"${trail.id}\">Add to Route</button>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    // Updates Routes in Dom\r\n    displayRoutes(value) {\r\n        const noGroups = value.intersections.noGroups;\r\n        const groups = value.intersections.groups;\r\n        let content = \"\";\r\n        if (groups.length >= 1) {\r\n            groups.forEach((group, index) => {\r\n                let routeLength = 0;\r\n                let routeSteps = 0;\r\n                const routeArray = [];\r\n\r\n                group.forEach((trail) => {\r\n                    routeArray.push(trail.id);\r\n                });\r\n\r\n                content += `\r\n                  <div class=\"route group group-${index + 1}\" data-routeIDs=\"${routeArray}\">\r\n                    <div class=\"route-heading\">Route ${index + 1}</div>\r\n                `;\r\n\r\n                group.forEach((trail) => {\r\n                    routeLength += trail.length_miles;\r\n                    routeSteps += trail.steps_to_travel;\r\n\r\n                    content += `\r\n                      <div class=\"group-single\" data-trailID=\"${trail.id}\">\r\n                        <div class=\"routeTitle\">${trail.name}</div>\r\n                        <i class=\"far fa-window-close removeTrail\" data-trailID=\"${trail.id}\"></i>\r\n                      </div>`;\r\n                });\r\n                content += `\r\n                    <div class=\"row\">\r\n                      <div class=\"routeLength column\"><i class=\"fas fa-route\"></i><br />${routeLength.toLocaleString(\"en\", { maximumFractionDigits: 2 })} mi</div>\r\n                      <div class=\"routeSteps column\"><i class=\"fas fa-shoe-prints\"></i><br />${routeSteps.toLocaleString(\"en\", { maximumFractionDigits: 2 })}</div>\r\n                    </div>\r\n                  </div>\r\n                `;\r\n            });\r\n        }\r\n        if (noGroups.length >= 1) {\r\n            content += `<div class=\"route-heading no-route\">Not in Route</div>`;\r\n            noGroups.forEach((trail, index) => {\r\n                content += `\r\n                  <div class=\"route no-group no-group-${index + 1}\" data-trailID=\"${trail.id}\">\r\n                    <div class=\"routeTitle\">${trail.name}</div>\r\n                    <div class=\"routeClass\">Class: ${trail.trail_class}</div>\r\n                    <div class=\"row\">\r\n                      <div class=\"routeLength column\"><i class=\"fas fa-route\"></i><br />${trail.length_miles.toLocaleString(\"en\", { maximumFractionDigits: 2 })} mi</div>\r\n                      <div class=\"routeSteps column\"><i class=\"fas fa-shoe-prints\"></i><br />${trail.steps_to_travel.toLocaleString(\"en\", { maximumFractionDigits: 2 })}</div>\r\n                    </div>\r\n                    <i class=\"far fa-window-close removeTrail\" data-trailID=\"${trail.id}\"></i>\r\n                  </div>\r\n                `;\r\n            });\r\n        }\r\n        this.routesContainer.innerHTML = content;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/SidePanel.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_29__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/dom\"\n// module id = 29\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/on\"\n// module id = 30\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_31__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/layers/GraphicsLayer\"\n// module id = 31\n// module chunks = 0","import * as geometryEngine from \"esri/geometry/geometryEngine\";\r\nimport * as Graphic from \"esri/Graphic\";\r\n\r\nexport function getIntersectingTrails(trails) {\r\n    const intersections = [];\r\n    const groups = [];\r\n    const groupedIds = [];\r\n    const noGroups = [];\r\n    const visited = {};\r\n    let v;\r\n\r\n    if (trails.length > 1) {\r\n        for (let i = 0; i < trails.length - 1; i++) {\r\n            for (let j = i + 1; j < trails.length; j++) {\r\n                const val1 = trails[i].geometry;\r\n                const val2 = trails[j].geometry;\r\n                const comparision = geometryEngine.intersects(val1, val2);\r\n                if (comparision) {\r\n                    intersections.push([trails[i].id, trails[j].id]);\r\n                }\r\n            }\r\n        }\r\n        // Group trails based on connectivity and return ID\r\n        const adjlist = convert_edgelist_to_adjlist(intersections);\r\n        for (v in adjlist) {\r\n            if (adjlist.hasOwnProperty(v) && !visited[v]) {\r\n                groupedIds.push(bfs(v, adjlist, visited));\r\n            }\r\n        }\r\n\r\n        // ID trail id to retrieve trail.\r\n        groupedIds.forEach(group => {\r\n            const singleGroup = [];\r\n            for (const trailid of group) {\r\n                for (const trail of trails) {\r\n                    if (trail.id === trailid) {\r\n                        singleGroup.push(trail);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            groups.push(singleGroup);\r\n        });\r\n\r\n        // Find values in trail that are not grouped.\r\n        const flatGroup = [].concat.apply([], groupedIds);\r\n        trails.forEach(trail => {\r\n            if (!flatGroup.includes(trail.id)) {\r\n                noGroups.push(trail);\r\n            }\r\n        });\r\n    } else {\r\n        if (trails.length === 1) {\r\n            noGroups.push(trails[0]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        intersections: {\r\n            \"groups\": groups,\r\n            \"noGroups\": noGroups\r\n        }\r\n    };\r\n\r\n}\r\nconst convert_edgelist_to_adjlist = function(edgelist) {\r\n    const adjlist = {};\r\n    let i, len, pair, u, v;\r\n    for (i = 0, len = edgelist.length; i < len; i += 1) {\r\n        pair = edgelist[i];\r\n        u = pair[0];\r\n        v = pair[1];\r\n        if (adjlist[u]) {\r\n            // append vertex v to edgelist of vertex u\r\n            adjlist[u].push(v);\r\n        } else {\r\n            // vertex u is not in adjlist, create new adjacency list for it\r\n            adjlist[u] = [v];\r\n        }\r\n        if (adjlist[v]) {\r\n            adjlist[v].push(u);\r\n        } else {\r\n            adjlist[v] = [u];\r\n        }\r\n    }\r\n    return adjlist;\r\n};\r\n// Breadth First Search using adjacency list\r\nconst bfs = function(v, adjlist, visited) {\r\n    const q = [];\r\n    const current_group = [];\r\n    let i, len, adjV, nextVertex;\r\n    q.push(v);\r\n    visited[v] = true;\r\n    while (q.length > 0) {\r\n        v = q.shift();\r\n        current_group.push(v);\r\n        // Go through adjacency list of vertex v, and push any unvisited\r\n        // vertex onto the queue.\r\n        // This is more efficient than our earlier approach of going\r\n        // through an edge list.\r\n        adjV = adjlist[v];\r\n        for (i = 0, len = adjV.length; i < len; i += 1) {\r\n            nextVertex = adjV[i];\r\n            if (!visited[nextVertex]) {\r\n                q.push(nextVertex);\r\n                visited[nextVertex] = true;\r\n            }\r\n        }\r\n    }\r\n    return current_group;\r\n};\r\n\r\nexport function createRouteSymbol(node, trails) {\r\n    const route = [];\r\n    let routeIds = node.target.dataset.routeids;\r\n    routeIds = routeIds.split(\",\");\r\n\r\n    routeIds.forEach((id) => {\r\n        route.push(trails.filter((trail) => { return trail.id === id; })[0].geometry);\r\n    });\r\n\r\n    const routeGeometry = geometryEngine.union(route);\r\n\r\n    const polylineSymbol = {\r\n        type: \"simple-line\",  // autocasts as SimpleLineSymbol()\r\n        color: [255, 221, 0],\r\n        width: 4\r\n    };\r\n\r\n    const polylineAtt = {\r\n        Name: \"Keystone Pipeline\",\r\n        Owner: \"TransCanada\"\r\n    };\r\n\r\n    const polylineGraphic = new Graphic({\r\n        geometry: routeGeometry,\r\n        symbol: polylineSymbol,\r\n        attributes: polylineAtt\r\n    });\r\n    return polylineGraphic;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ts/ui/utils.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_33__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/geometry/geometryEngine\"\n// module id = 33\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_34__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/Graphic\"\n// module id = 34\n// module chunks = 0","\"use strict\";\n\n/* eslint-disable flowtype/require-valid-file-annotation */\n\nthrow new Error(\"serviceworker-webpack-plugin: It seems that your are importing\\n  \\\"serviceworker-webpack-plugin/lib/runtime\\\" without using the plugin.\\n  Makes sure that your webpack configuration is correct.\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/serviceworker-webpack-plugin/lib/runtime.js\n// module id = 36\n// module chunks = 0"],"sourceRoot":""}